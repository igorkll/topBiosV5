local component,computer,unicode,table,a,b,c=component,computer,unicode,table,{"/init.lua","/OS.lua"},function()end,debug.traceback;local d,e,f=unicode.sub,unicode.len,unicode.char;local g,h,i=component.list,component.invoke,component.proxy;local j,k,l=computer.pullSignal,computer.shutdown,computer.uptime;local m,n,o,p,q=table.insert,table.concat,table.remove,table.sort,table.unpack;local function r(s)local t,u,v;for w in g(s)do v=tonumber(device[w].width)if not u or v>u then t,u=w,v end end;return t end;function getCP(x)return i(g(x)())end;local y=g("eeprom")function split(z,A)local B,C,D={},1,1;while 1 do if D>#z then break end;local E=z:sub(D,#A+D-1)if not B[C]then B[C]=""end;if E==A then C=C+1;D=D+#A else B[C]=B[C]..z:sub(D,D)D=D+1 end end;if z:sub(#z-(#A-1),#z)==A then m(B,"")end;return B end;_G.split=split;function getDataPart(F)return split(eeprom_getData(),"\n")[F]or""end;function setDataPart(F,G)if getDataPart(F)==G then return end;if G:find("\n")then error("\\n char")end;local B=split(eeprom_getData(),"\n")for D=F,1,-1 do if not B[D]then B[D]=""end end;B[F]=G;eeprom_setData(n(B,"\n"))end;function delay(H,I)if not I then I=function()j(0.1)end end;local J=l()while l()-J<H do if I()==false then break end end end;function getLabel(w,K)local L=h(w,"getLabel")return(L and L..":"or"")..w:sub(1,3)..":"..K end;function labelIsReadonly(M)return not pcall(M.setLabel,M.getLabel())end;function formatString(z,N,O)local P=" "z=d(z,1,N)local Q,R=N-e(z),P:rep(N-e(z))if O==1 then return R..z elseif O==2 then z=P:rep(Q//2)..z..P:rep(Q//2)if#z<N then z=z..P:rep(N-e(z))end;return z else return z..R end end;function getError(S)return S or"Unknown Error"end;function toValue(Q)if type(Q)=="function"then return Q()else return Q end end;function fsList()local T={}for w in g("filesystem")do m(T,w)end;p(T,function(P,U)for D=1,#P do if P:sub(D,D)~=U:sub(D,D)then return P:byte(D)<U:byte(D)end end end)return ipairs(T)end;function boots(w)local function V(w)local M=i(w)if not M then return{}end;local W,X={},{}for D,Y in ipairs(a)do if M.exists(Y)then m(W,Y)m(X,w)end end;local Z="/boot/kernel/"for _,K in ipairs(M.list(Z)or{})do m(W,Z..K)m(X,w)end;return W,W,X end;if w then return V(w)else local W,a0,X={},{},{}for _,w in fsList()do local L=h(w,"getLabel")local T=V(w)for D,Y in ipairs(T)do m(W,(L and L.."-"or"")..w:sub(1,3).."-"..Y)m(a0,Y)m(X,w)end end;return W,a0,X end end;function getLabel2(M)return M.getLabel()or"Unnamed"end;function fsName(w)local M=i(w)return formatString(getLabel2(M),12).."  "..(M.spaceTotal()>=1048576 and"HDD"or M.spaceTotal()>=65536 and"FDD"or"SYS").."  "..(M.isReadOnly()and"R  "or"R/W").."  "..formatString(string.format("%.1f",M.spaceUsed()/M.spaceTotal()*100).."%",6,1).."  "..formatString(w,7).."…"end;gpu=i(r("gpu")or"*")if gpu then screen=getDataPart(2)if not i(screen)then screen=r("screen")if screen then setDataPart(2,screen)end end;if screen then keyboard=h(screen,"getKeyboards")[1]gpu.bind(screen)end end;if screen then rx,ry=gpu.getResolution()mx,my=gpu.maxResolution()maxDepth=math.floor(gpu.maxDepth())depth=math.floor(gpu.getDepth())pcall(h,screen,"setPrecise",false)end;if not gpu or not screen then gpu=nil;screen=nil end;isControl=screen and(keyboard or math.floor(device[screen].width)~=1)function setResolution(a1,a2,a3)gpu.setResolution(a1 or rx,a2 or ry)gpu.setDepth(a3 or depth)depth=gpu.getDepth()rx,ry=gpu.getResolution()setDataPart(5,tostring(rx))setDataPart(6,tostring(ry))setDataPart(7,tostring(depth))end;if screen then local a4,a5,a6=getDataPart(5),getDataPart(6),getDataPart(7)if a4==""then a4=rx end;if a5==""then a5=ry end;if a6==""then a6=depth end;a4=tonumber(a4)a5=tonumber(a5)a6=tonumber(a6)if a5>my or a4>mx or a6>maxDepth then a4=mx;a5=my;a6=maxDepth end;setResolution(a4,a5,a6)end;function selectColor(a7,a8,a9)if depth==4 then return a8 or a7 elseif depth==1 then return a9 and 0xFFFFFF or 0 else return a7 end end;local aa,ab;local function ac()aa,ab=selectColor(0xE1E1E1,0xAAAAAA,true),selectColor(0x878787,0x222222,false)end;ac()local ad,ae;local af,ag,ah,ai;local aj,ak;local al={{name="Classic",minDepth=1},{name="White",minDepth=1},{name="Black",minDepth=1},{name="Cyan",minDepth=4},{name="Red",minDepth=8},{name="matrix",minDepth=math.huge}}local am;local an;local ao;function setTheme(ap,aq)if not al[ap]or depth<al[ap].minDepth then return false end;an=false;ao=nil;if ap==1 then ad,ae=aa,ab;aj,ak=aa,ab;af,ag,ah,ai=aa,ab,selectColor(aa,nil,false),selectColor(0,nil,true)elseif ap==2 then ad,ae=0xFFFFFF,0;aj,ak=0xFFFFFF,0;af,ag,ah,ai=0xFFFFFF,0,0,0xFFFFFF elseif ap==3 then ad,ae=0,0xFFFFFF;aj,ak=0,0xFFFFFF;af,ag,ah,ai=0,0xFFFFFF,0xFFFFFF,0 elseif ap==4 then ad,ae=selectColor(0x002b36,0x333399),selectColor(0x8cb9c5,0x336699)aj,ak=ad,ae;af,ag,ah,ai=ad,ae,ad,0xFFFFFF elseif ap==5 then ad,ae=0x880000,0xFF0000;aj,ak=ad,ae;af,ag,ah,ai=ad,ae,0xFF5500,0xFFAA00 elseif ap==6 then ad,ae=0x000000,0x00FF00;aj,ak=ad,ae;af,ag,ah,ai=ad,ae,ae,ad;an=true;ao=0.2 end;am=ap;if status and aq then status("installed the theme: "..al[ap].name)end;setDataPart(8,tostring(ap))return true end;function checkTheme()local ar=getDataPart(8)ar=tonumber(ar)if not ar then ar=1 end;ac()if not setTheme(ar)then setTheme(1)end end;if screen then checkTheme()end;function setColor(as,at)gpu.setBackground(as or aa)gpu.setForeground(at or ab)end;function clear(as,at)setColor(as,at)gpu.fill(1,1,rx,ry," ")if am==6 then for D=1,100 do gpu.set(math.random(1,rx),math.random(1,ry),string.char(math.random(32,127)))end end end;function invert()gpu.setForeground(gpu.setBackground(gpu.getForeground()))end;function setText(au,av)local aw=rx//2-e(au)//2+1;gpu.set(aw,av,au)return aw end;function status(au,ax,S)if not screen then if S then error(au,0)end;return end;if not isControl and ax==true then ax=1 end;clear(ad,ae)setText(au,ry//2)if ax==true then setText("Press Enter Or Touch To Continue",ry//2+1)while true do local ay,az,_,aA,aB=j(ao)if ay=="touch"and aB==0 and az==screen then break elseif ay=="key_down"and aA==28 and az==keyboard then break end end else if ax then if ax<0 then return end;delay(math.max(ax,0.5))else delay(0.5)end end end;function menu(L,aC,ap)if not ap or ap<1 then ap=1 end;if ap>#aC then ap=#aC end;local aD=0;for D,Y in ipairs(aC)do if e(Y)>aD then aD=e(Y)end end;local aE={}m(aE,"")for D,Y in ipairs(aC)do m(aE,formatString(Y,aD+4,2))end;local aF,av,aG,aH=(ap or 1)+1,ry//2-#aE//2,nil,{}if av<1 then av=1 end;while 1 do local aI=aF//ry*ry;if aF~=aG then clear(af,ag)if aI==0 then setColor(ah,ai)setText(L,av)end;setColor(af,ag)for D=1,#aE do local aJ=av+D-aI;if aJ>=1 then if aJ>ry then break end;if D==aF then invert()end;aH[D]=setText(aE[D],aJ)if D==aF then invert()end end end end;local aK={j(ao)}aG=aF;if#aK>0 then if aK[1]=="key_down"and aK[2]==keyboard then if aK[4]==28 then break elseif aK[4]==200 then aF=aF-1 elseif aK[4]==208 then aF=aF+1 end elseif aK[1]=="scroll"and aK[2]==screen then aF=aF-aK[5]elseif aK[1]=="touch"and aK[2]==screen and aK[5]==0 then local aL=aK[4]-av+aI;if aL>=2 and aL<=#aE and aK[3]>=aH[aL]and aK[3]<aH[aL]+e(aE[aL])then aF=aL;break end end;if aF<2 then aF=2 end;if aF>#aE then aF=#aE end end;if an then aG=-1 end end;return aF-1 end;function menuPro(L,aE,aM,aN,aO,ap,aP)if ap and ap>#aE then ap=1 end;while 1 do local aQ={}for D,Y in ipairs(aE)do m(aQ,toValue(Y))end;if not aN then m(aQ,"Back")end;ap=menu(toValue(L),aQ,ap)if not aN then o(aQ,#aQ)end;if aM[ap]then local aR,S=pcall(aM[ap])b()if not aR then status(getError(S),true)end;if aP then return nil end;if aO then return ap end;if aR and S=="back"then return nil end else break end end end;local aS={}function input(au,aT)local W,aU,aV="",ry//2,0;local function aW()clear(aj,ak)local W=W;if aT then local P="*"W=P:rep(e(W))end;local aX=au..": "..W.."_"setText(aX,aU)end;while 1 do aW()local ay,az,E,aA=j(ao)if ay then if ay=="key_down"and az==keyboard then if aA==28 then if#W>0 then if not aT and W~=aS[1]and W~=""then m(aS,1,W)end;return W end elseif aA==200 or aA==208 then W=""if aA==200 then if aV<#aS then aV=aV+1 end else if aV>0 then aV=aV-1 end end;W=aS[aV]or""aW()elseif aA==14 then if e(W)>0 then aV=0;W=d(W,1,e(W)-1)aW()end elseif E==3 then return nil elseif E>=32 and E<=127 then aV=0;W=W..f(E)aW()end elseif ay=="clipboard"and az==keyboard then aV=0;W=W..E;if d(E,e(E),e(E))=="\n"then local aY=d(W,1,e(W)-1)if not aT and aS[1]~=aY and aS[1]~=""then m(aS,1,aY)end;return aY end elseif ay=="touch"and az==screen then if#W==0 then return nil end end end end end;function yesno(L,aZ,as)if as then local a_=menu(L,{"No","Yes","Back"})if a_==3 then return nil else return a_==2 end else if aZ then return menu(L,{"No","Yes"})==2 else return menu(L,{"No","No","Yes","No"})==3 end end end;function isBoot(w,K)local aR,a_=pcall(h,w,"exists",K)return aR and a_ and not h(w,"isDirectory",K)end;function bootTo(b0,b1)status("Boot From: "..getLabel(b0,b1),1)local b2=getFile(i(b0),b1)function computer.getBootAddress()return b0 end;function computer.getBootScreen()return screen end;function computer.getBootGpu()if screen then return gpu.address end;return nil end;function computer.getBootFile()return b1 end;function computer.setBootAddress(w)setDataPart(1,w or"")if w==""then setDataPart(3,"")return end;local b3;for D,Y in ipairs(a)do if h(w,"exists",Y)then setDataPart(3,Y)b3=1;break end end;if not b3 then setDataPart(3,"")end end;function computer.setBootScreen(w)setDataPart(2,w or"")end;function computer.setBootFile(K)setDataPart(3,K or"")end;function computer.shutdown(b4)if b4=="fast"then setDataPart(4,b0 ..";"..b1)k(1)else k(b4)end end;if b1=="/OS.lua"then i(y).getData=function()return b0 end end;computer.beep(1000,0.2)local aR,S=xpcall(assert(load(b2,"=init")),c)if not aR then b=function()error(S,0)end;b()end;k()end;function executeString(z,b5)local aA,S=load(z)if not aA then status(getError(S),true)return nil,S end;local b6={pcall(aA)}if not b6[1]then status(getError(tostring(b6[2])),true)end;if b5 and b6[1]and b6[2]then status(getError(tostring(b6[2])),true)end;return q(b6)end;function checkPassword(b7)local b8=getDataPart(9)while b8~=""do if not screen then if b7 then return false else k()end end;local b9=input("Password",true)if not b9 then if b7 then return false else k()end end;if b9==b8 then return true else status("The Password Doesn't Fit",1)end end end;if getDataPart(11)==""then checkPassword()end;local function ba()local aE,aM={},{}for _,w in fsList()do local M,ap=i(w),nil;local function bb()return(getDataPart(1)==w and"> "or"  ")..fsName(w).."  "end;m(aE,bb)m(aM,function()::bc::local aE={}local aM={}local bd=M.list("/boot/kernel")or{}if M.exists("/init.lua")or M.exists("/OS.lua")or#bd>0 then m(aE,"Set As Bootable")m(aE,"Fastboot")for D=1,2 do m(aM,function()local aE={}local aM={}local function be(K)m(aM,function()if D==1 then status("Seting As Bootable")setDataPart(1,M.address)setDataPart(3,K)else bootTo(M.address,K)end end)end;if D==1 then m(aE,"Any")be("any")end;for D,Y in ipairs(a)do if M.exists(Y)then m(aE,Y)be(aE[#aE])end end;for _,K in ipairs(bd)do m(aE,"/boot/kernel/"..K)be(aE[#aE])end;menuPro("Select Boot File",aE,aM,nil,nil,nil,true)end)end end;if not labelIsReadonly(M)then if keyboard then m(aE,"Change Label")m(aM,function()local b9=input("Label")if b9 then M.setLabel(b9)end end)end;m(aE,"Erase Label")m(aM,function()M.setLabel(nil)end)end;local bf=w;local bg=0;for _,w in fsList()do local bh=i(w)if not bh.isReadOnly()and w~=bf and bh.spaceTotal()>=M.spaceUsed()then bg=bg+1 end end;if bg>0 then m(aE,"Move Data")m(aM,function()local function bi(w)local L=i(w).getLabel()if L==""then L=nil end;return(L and L.."-"or"")..w:sub(1,3)end;local aE={}local aM={}for _,w in fsList()do local bh=i(w)if not bh.isReadOnly()and w~=bf and bh.spaceTotal()>=M.spaceUsed()then local function bb()return fsName(w)end;m(aE,bb)m(aM,function()local bj=yesno("Format Target Drive?",nil,1)if bj==nil then return end;if menu("From: "..bi(bf)..", To: "..bi(w)..", Format: "..tostring(bj),{"Confirm","Cancel"})==1 then if bj then status("formating")for _,K in ipairs(bh.list("/"))do if K~=".efi"and K~=".efiData"then bh.remove(K)end end end;local function bk(bl,bm,Z)for _,K in ipairs(bl.list(Z))do local bn=Z..K;if bl.isDirectory(bn)then bm.makeDirectory(bn)bk(bl,bm,bn)elseif bn~=".efi"and bn~="/.efi"and bn~=".efiData"and bn~="/.efiData"then local aY=getFile(bl,bn)local K=bm.open(bn,"wb")bm.write(K,aY)bm.close(K)end end end;status("Moving Files")bk(M,bh,"/")return"back"end end)end end;menuPro("Select Target Drive, To Clone: "..bi(bf),aE,aM)end)end;if not M.isReadOnly()then m(aE,"Format")m(aM,function()if yesno("Format?")then status("formating")for _,K in ipairs(M.list("/"))do if K~=".efi"and K~=".efiData"then M.remove(K)end end;if w==getDataPart(1)then setDataPart(1,"")setDataPart(3,"")end end end)end;ap=menuPro(function()return(M.getLabel()or"Unnamed").." ("..w..")"end,aE,aM,nil,1,ap)if ap then goto bc end end)end;menuPro("Disk Menager",aE,aM)end;function internetBoot(bo)bo=bo or input("Url")if not bo then return end;return executeString(assert(getInternetFile(bo)))end;local function bp()while true do local bo=input("Url")if not bo then return end;local aY,S=getInternetFile(bo)if not aY then status(getError(S),true)else return executeString(aY)end end end;local function bq()local b6,br,aE=assert(getInternetFile("https://raw.githubusercontent.com/igorkll/webMarket3/main/list.txt")),{},{}local bs=split(b6,"\n")for D,Y in ipairs(bs)do local bt=split(Y,";")m(aE,bt[2])m(br,function()internetBoot(bt[1])end)end;menuPro("Select Os To Install",aE,br)end;local function bu()while 1 do local b9=input("Lua Code")if not b9 then break end;if b9=="reset"then else executeString(b9,1)end end end;local function bv()local ap;while true do local aE={}for _,bw in ipairs{computer.users()}do m(aE,bw)end;if keyboard then m(aE,"Add User")end;m(aE,"Remove All(Set A Public)")m(aE,"Back")ap=menu("Users Manager, Public: "..tostring(#{computer.users()}==0),aE,ap)if ap==#aE then break elseif ap==#aE-1 then if yesno("Remove All Users? The Computer Will Become Public")then for _,bw in ipairs{computer.users()}do computer.removeUser(bw)end end elseif ap==#aE-2 and keyboard then local b9=input("Nikname")if b9 then local aR,S=computer.addUser(b9)if not aR then status(getError(S),true)end end else local bw=aE[ap]local ap;while true do ap=menu("Control User: "..bw,{"Remove","Back"},ap)if ap==1 then if yesno("Remove User "..bw.."?")then computer.removeUser(bw)break end elseif ap==2 then break end end end end end;local function bx(b7)local b8=getDataPart(10)if b8==""then b8="0000"end;while true do local b9=input("Enter Admin Password",true)if not b9 then if b7 then return false else k()end end;if b9==b8 then return true else status("The Password Doesn't Fit",1)end end end;local function b8()local function by(bz)local function bA(z)if not z then return true end;if e(z)<4 then status("The Password Must Be Longer Than Four Characters",true)return true end end;local bB=input("Enter New "..(bz and"Admin "or"").."Password",true)if bA(bB)then return end;local bC=input("Commit New "..(bz and"Admin "or"").."Password",true)if bB==bC then status("the password is set",0.5)if bz then setDataPart(10,bB)else setDataPart(9,bB)end else status("passwords don't match",0.5)end end;local function bD()if yesno("Clear Password?")then setDataPart(9,"")end end;if not bx(true)then return end;menuPro("Password",{"Set Admin Password","Set Password","Clear Password",function()if getDataPart(11)=="1"then return"Mode:mainmenu"else return"Mode:boot"end end},{function()by(true)end,by,bD,function()local ap=getDataPart(11)=="1"and 2 or 1;ap=menu("Select Mode",{"Boot","Main Menu"},ap)if ap==1 then setDataPart(11,"")elseif ap==2 then setDataPart(11,"1")end end})end;local function bE()local ap=tonumber(getDataPart(8))while true do local aE={}local bF={}for D=1,#al do if depth>=al[D].minDepth then m(aE,al[D].name)m(bF,D)end end;m(aE,"Back")ap=menu("Select Theme",aE,ap)local am=bF[ap]if not am then break end;setTheme(am,true)end end;local function bG()local function bH(a4,a5)return not(a5>mx or a4*a5>mx*my)end;local function bA(a4,a5,bI)if not bH(a4,a5)then if not bI then status("unsupported resolution",true)end;return false end;if a4<16 or a5<4 then if not bI then status("the resolution is too small",true)end;return false end;return true end;local bG={{160,50},{80,25},{50,16},{80,40},{40,20}}if keyboard then m(bG,"custom")end;local aE={}local bJ={}for D,Y in ipairs(bG)do local z=type(Y)=="string"and Y or n(Y,":")local bK,bL;if type(Y)=="table"then bK,bL=q(Y)end;if not bK or bH(bK,bL)then m(aE,z)m(bJ,function()local bM,bN;if type(Y)=="table"then bM,bN=q(Y)else local input=input("resolution(x y)")if input then local T=split(input," ")local bO,bP=tonumber(T[1]),tonumber(T[2])if type(bO)~="number"then bO=nil end;if type(bP)~="number"then bP=nil end;if not bO or not bP or bO<=0 or bP<=0 then status("input error",true)return end;bM,bN=bO,bP end end;if bM and bA(bM,bN)then setResolution(bM,bN,depth)end end)end end;local ap;for D=1,#bG-1 do if bG[D][1]==math.floor(rx)and bG[D][2]==math.floor(ry)then ap=D;break end end;if not ap then ap=#bG end;menuPro("Resolution",aE,bJ,nil,nil,ap)end;local function bQ()local ap=math.floor(tonumber(getDataPart(7)))if ap==4 then ap=2 elseif ap==1 then ap=3 else ap=1 end;while true do local aE={}local bR={}local bS={"8 Bits","4 Bits","1 Bit"}local bQ={8,4,1}for D=1,#bQ do if bQ[D]<=maxDepth then m(aE,bS[D])m(bR,bQ[D])end end;m(aE,"Back")ap=menu("Select Depth",aE,ap)local depth=bR[ap]if not depth then break end;setResolution(rx,ry,depth)checkTheme()end end;local function bT()local bU={function()return"  Enable Multi Booting"..(getDataPart(1)=="any"and" √"or"  ")end,"Reset Settings","Users Manager","Color Depth","Resolution","Themes"}local aM={function()status("Enabling Multi Booting")setDataPart(1,"any")end,function()if bx(true)and yesno("Reset EFI Settings?")then eeprom_setData("")computer.shutdown(true)end end,bv,bQ,bG,bE}if keyboard then m(bU,6,"Password")m(aM,6,b8)end;menuPro("Settings",bU,aM)end;local function bV()local bU,aM={},{}m(bU,"Install Operating System")m(aM,bq)if keyboard then m(bU,"Internet Boot")m(aM,bp)end;menuPro("Internet",bU,aM)end;local function bW()local bU,aM={},{}if keyboard then m(bU,"Lua Interpreter")m(aM,bu)end;for w in g("filesystem")do local M=i(w)local Z="/smartEfi/applications/"for _,K in ipairs(M.list(Z)or{})do local bn=Z..K;if not M.isDirectory(bn)then m(bU,K)m(aM,function()local K,S=getFile(M,bn)if not K then status("error to get file: "..getError(S),true)return end;local aA,S=load(K)if not aA then status("error to load programm:"..getError(S),true)return end;local bX={driveAddress=w,path=bn}local aR,S=pcall(aA,bX)if not aR then status("error to running programm:"..getError(S),true)return end end)end end end;menuPro("Applications",bU,aM)end;local function bY()if getDataPart(11)=="1"then if not checkPassword(true)then return true end end;local bU,aM={"Disk Manager","Applications","Settings","Shutdown","Reboot"},{ba,bW,bT,k,function()k(1)end}if internet then m(bU,3,"Internet")m(aM,3,bV)end;menuPro("Smart EFI",bU,aM)end::bZ::if isControl and getDataPart(4)==""then::b_::if keyboard then status("Press Alt To Open The Efi Menu",-1)else status("Tap On The Screen To Open The Efi Menu",-1)end;local c0;delay(1,function()local aK={j(0.1)}if aK[1]=="key_down"and aK[2]==keyboard then if aK[4]==56 then c0=bY()if c0 then return false end elseif aK[4]==28 then return false end elseif aK[1]=="touch"and aK[2]==screen then if aK[5]==0 then c0=bY()if c0 then return false end else return false end end end)if c0 then goto b_ end end;local c1,c2=q(split(getDataPart(4),";"))local c3=getDataPart(4)~=""setDataPart(4,"")::c4::local b0,b1=getDataPart(1),getDataPart(3)local c5,c6=b1=="any"and#boots(b0)>0,b0=="any"and#boots()>0;if c3 and isBoot(c1,c2)then bootTo(c1,c2)elseif c5 or c6 then local c7,a0,X;if c6 then c7,a0,X=boots()else c7,a0,X=boots(b0)end;if isControl then local c8={}for D=1,#c7 do m(c8,function()bootTo(X[D],a0[D])end)end;menuPro("Select Boot File",c7,c8)else bootTo(X[1],a0[1])end elseif not isBoot(b0,b1)then status("Search For A Bootable Disk",0.5)for _,w in fsList()do local M,c9=i(w)local function ca(K)if M.exists(K)then status("Set As Bootable: "..getLabel(w,K))setDataPart(1,w)setDataPart(3,K)c9=1;return 1 end end;if ca("/boot/kernel/pipes")then break end;if screen and ca("/OS.lua")then break else if ca("/init.lua")then break end end;local Z="/boot/kernel/"for _,K in ipairs(M.list(Z)or{})do if ca(Z..K)then break end end;if c9 then break end end;if isBoot(getDataPart(1),getDataPart(3))then goto c4 else status("No Bootable Medium Found",true,1)end else bootTo(b0,b1)end;goto bZ
